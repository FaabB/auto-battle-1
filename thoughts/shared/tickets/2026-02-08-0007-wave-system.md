# Ticket 7: Wave System

**Delivers:** Structured enemy waves that auto-spawn with scaling difficulty, replacing the debug spawner

**Depends on:** 4, 5, 6

## What to Implement

| What to implement | How to test |
|-------------------|-------------|
| Wave data structure (enemy types, counts, spawn intervals) | Wave config defines what spawns per wave |
| Wave spawner system (auto-spawns enemies from right side) | Enemies appear automatically without debug keys |
| Wave counter UI ("Wave 1/10") | Current wave number visible on screen |
| Wave completion detection (all enemies in wave dead) | Next wave starts after current wave is cleared |
| Inter-wave timer (brief pause between waves) | Short delay before next wave begins |
| Difficulty scaling — increasing enemy count | Later waves have more enemies |
| Difficulty scaling — increasing enemy stats | Later waves have tougher enemies (more HP/damage) |
| Remove temporary debug enemy spawner from Ticket 4 | Debug key no longer needed |
| Wave completion gold bonus | Bonus gold awarded when a wave is cleared |

## Context

This replaces the debug enemy spawner from Ticket 4 with a proper wave system. The game now has structure and progression — players must build up their economy and army fast enough to handle escalating waves.

**Wave scaling approach (from research):** Mixed count + stat scaling. Early waves increase enemy count. Later waves also increase enemy HP/damage. This keeps the visual spectacle while preventing performance issues from pure count scaling.

**Continuous flow:** Enemies attack from the start — there is no prep phase. The first wave should begin shortly after the game starts (e.g., 5-10 second delay to allow initial building placement).

**Suggested wave structure (10 waves for prototype):**
- Waves 1-3: Small groups, basic stats (count scaling)
- Waves 4-6: Larger groups, slight stat increase
- Waves 7-9: Large groups, significant stat increase
- Wave 10: Boss wave (very tough enemies)

Exact numbers to be tuned during implementation.

Relevant files:
- New: wave config data (could be hardcoded initially, or RON file)
- New systems: `wave_spawner`, `wave_completion_check`
- `src/screens/in_game.rs` — wave UI, remove debug spawner
- Enemy spawn logic from Ticket 4's debug spawner can be reused

## Done When

- Game starts and enemies begin spawning automatically after a short delay
- Wave counter shows "Wave 1/10" (or similar) on screen
- When all enemies in a wave are killed, brief pause then next wave starts
- Later waves have more and/or stronger enemies
- Gold bonus awarded on wave completion
- Debug enemy spawner from Ticket 4 is removed
- All 10 waves can be played through

## References

- Source: `thoughts/shared/research/2026-02-04-tano-style-game-research.md` (Section 2.4 Enemy System, Wave Scaling Approach)
